<!--order-detail.wxml-->
<view class="detail-page">
  <navigation-bar
    title="订单详情"
    back="{{true}}"
    color="white"
    background="linear-gradient(135deg, rgba(130, 180, 170, 0.85) 0%, rgba(100, 160, 150, 0.95) 100%)"
    bindback="goBack"
  ></navigation-bar>

  <view class="detail-body" wx:if="{{order}}">
    <!-- 订单状态 -->
    <view class="status-card">
      <text class="status-label">订单状态</text>
      <text class="status-value status-{{order.status}}">{{statusMap[order.status]}}</text>
    </view>

    <!-- 订单信息 -->
    <view class="info-card">
      <view class="info-row">
        <text class="info-label">订单号</text>
        <text class="info-value">{{order.id}}</text>
      </view>
      <view class="info-row">
        <text class="info-label">下单时间</text>
        <text class="info-value">{{order.createTime}}</text>
      </view>
      <view class="info-row" wx:if="{{order.remark}}">
        <text class="info-label">备注</text>
        <text class="info-value">{{order.remark}}</text>
      </view>
    </view>

    <!-- 商品列表 -->
    <view class="items-card">
      <view class="card-title">商品清单（共{{order.items.length}}件）</view>
      <view class="items-list">
        <view class="item-row" wx:for="{{order.items}}" wx:key="id">
          <image class="item-image" src="{{item.image}}" mode="aspectFill"></image>
          <view class="item-info">
            <text class="item-name">{{item.name}}</text>
            <text class="item-spec" wx:if="{{item.spec}}">{{item.spec}}</text>
          </view>
          <text class="item-quantity">x{{item.quantity}}</text>
        </view>
      </view>
    </view>

    <!-- 底部操作 -->
    <view class="bottom-actions">
      <view class="reorder-btn" bindtap="handleReorder">一键复购</view>
    </view>
  </view>
</view>
