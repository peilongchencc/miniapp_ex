<!--product-detail.wxml-->
<view class="detail-page">
  <navigation-bar
    title="商品详情"
    back="{{true}}"
    color="white"
    background="linear-gradient(135deg, rgba(130, 180, 170, 0.85) 0%, rgba(100, 160, 150, 0.95) 100%)"
    bindback="goBack"
  ></navigation-bar>

  <scroll-view class="detail-body" scroll-y wx:if="{{product}}">
    <!-- 商品图片 -->
    <view class="product-image-section">
      <image class="product-image" src="{{product.image}}" mode="aspectFill"></image>
    </view>

    <!-- 商品信息 -->
    <view class="product-info-section">
      <text class="product-name">{{product.name}}</text>
      <view class="price-tip">
        <text class="price-label">价格面议</text>
        <text class="price-desc">不同客户价格不同，请联系客服询价</text>
      </view>
    </view>

    <!-- 商品说明 -->
    <view class="product-desc-section">
      <view class="section-title">商品说明</view>
      <text class="desc-text">{{product.description}}</text>
      <view class="notice-box">
        <text class="notice-title">温馨提示</text>
        <text class="notice-item">• 本平台仅供选购下单，不显示价格</text>
        <text class="notice-item">• 下单后我们会主动联系您确认订单和价格</text>
        <text class="notice-item">• 老客户可直接下单，新客户建议先联系咨询</text>
        <text class="notice-item">• 支持宁夏、内蒙、甘肃地区配送</text>
      </view>
    </view>

    <!-- 数量选择 -->
    <view class="quantity-section">
      <text class="quantity-label">购买数量</text>
      <view class="quantity-control">
        <view class="qty-btn {{quantity <= 1 ? 'disabled' : ''}}" bindtap="decreaseQuantity">-</view>
        <input 
          class="qty-input" 
          type="number" 
          value="{{quantity}}" 
          bindinput="onQuantityInput"
        />
        <view class="qty-btn" bindtap="increaseQuantity">+</view>
      </view>
    </view>

    <!-- 底部占位 -->
    <view class="bottom-placeholder"></view>
  </scroll-view>

  <!-- 底部操作栏 -->
  <view class="bottom-bar" wx:if="{{product}}">
    <view class="bar-left">
      <view class="bar-item" bindtap="contactService">
        <text class="bar-icon">📞</text>
        <text class="bar-text">询价</text>
      </view>
    </view>
    <view class="bar-right">
      <view class="btn-cart {{isAddingToCart ? 'disabled' : ''}}" bindtap="addToCart">加入购物车</view>
      <view class="btn-buy" bindtap="buyNow">立即下单</view>
    </view>
  </view>
</view>
