<!--address.wxml-->
<navigation-bar title="æ”¶è´§åœ°å€" back="{{true}}" color="white" background="linear-gradient(135deg, rgba(130, 180, 170, 0.75) 0%, rgba(100, 160, 150, 0.85) 50%, rgba(90, 150, 145, 0.9) 100%)"></navigation-bar>

<scroll-view class="scrollarea" scroll-y type="list" enhanced show-scrollbar="{{false}}">
  <view class="address-container">
    <!-- åœ°å€åˆ—è¡¨ -->
    <block wx:if="{{addressList.length > 0}}">
      <view class="address-list">
        <view 
          class="address-item {{item.isDefault ? 'default' : ''}}" 
          wx:for="{{addressList}}" 
          wx:key="id"
        >
          <view class="address-content" bindtap="selectAddress" data-id="{{item.id}}">
            <view class="address-header">
              <text class="name">{{item.userName}}</text>
              <text class="phone">{{item.telNumber}}</text>
              <view wx:if="{{item.isDefault}}" class="default-tag">é»˜è®¤</view>
            </view>
            <view class="address-detail">
              {{item.provinceName}}{{item.cityName}}{{item.countyName}}{{item.detailInfo}}
            </view>
          </view>
          <view class="address-actions">
            <view class="action-left">
              <view class="default-switch" bindtap="setDefault" data-id="{{item.id}}">
                <view class="switch-track {{item.isDefault ? 'active' : ''}}">
                  <view class="switch-thumb"></view>
                </view>
                <text class="switch-label">é»˜è®¤åœ°å€</text>
              </view>
            </view>
            <view class="action-right">
              <view class="action-item" bindtap="editAddress" data-id="{{item.id}}">
                <text class="action-icon">âœï¸</text>
                <text class="action-text">ç¼–è¾‘</text>
              </view>
              <view class="action-item delete" bindtap="deleteAddress" data-id="{{item.id}}">
                <text class="action-icon">ğŸ—‘ï¸</text>
                <text class="action-text">åˆ é™¤</text>
              </view>
            </view>
          </view>
        </view>
      </view>
    </block>

    <!-- ç©ºçŠ¶æ€ -->
    <view wx:else class="empty-state">
      <text class="empty-icon">ğŸ“</text>
      <text class="empty-text">æš‚æ— æ”¶è´§åœ°å€</text>
      <text class="empty-tip">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ·»åŠ åœ°å€</text>
    </view>
  </view>
</scroll-view>

<!-- åº•éƒ¨æ·»åŠ æŒ‰é’® -->
<view class="bottom-bar">
  <view class="add-btn" bindtap="addAddressFromWx">
    <text class="add-icon">+</text>
    <text>æ–°å¢æ”¶è´§åœ°å€</text>
  </view>
</view>
